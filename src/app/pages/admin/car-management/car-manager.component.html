<div class="max-w-3xl mx-auto p-6">
  <h2 class="text-2xl font-bold mb-4">Autó hozzáadása</h2>

  <form
    (ngSubmit)="addCar()"
    #carForm="ngForm"
    class="grid grid-cols-1 gap-4 bg-white p-6 rounded-xl shadow-md"
  >
    <input
      class="input"
      [(ngModel)]="newCar.marka"
      name="marka"
      placeholder="Márka"
      required
    />

    <input
      class="input"
      type="number"
      [(ngModel)]="newCar.evjarat"
      name="evjarat"
      placeholder="Évjárat"
      required
    />

    <select
      class="input"
      [(ngModel)]="newCar.uzemanyag"
      name="uzemanyag"
      required
    >
      <option value="" disabled selected>Válassz üzemanyagot</option>
      <option *ngFor="let u of uzemanyagTipusok" [value]="u">{{ u }}</option>
    </select>

    <input
      class="input"
      [(ngModel)]="newCar.motor"
      name="motor"
      placeholder="Motor típusa"
      required
    />

    <select class="input" [(ngModel)]="newCar.valto" name="valto" required>
      <option value="" disabled selected>Válassz váltót</option>
      <option *ngFor="let v of valtoTipusok" [value]="v">{{ v }}</option>
    </select>

    <input
      class="input"
      type="number"
      [(ngModel)]="newCar.szemelyek"
      name="szemelyek"
      placeholder="Személyek száma"
      required
    />

    <input
      class="input"
      type="number"
      [(ngModel)]="newCar.fogyasztas_l_100km"
      name="fogyasztas_l"
      placeholder="Fogyasztás (l/100km)"
    />

    <input
      class="input"
      type="number"
      [(ngModel)]="newCar.fogyasztas_kwh_100km"
      name="fogyasztas_kwh"
      placeholder="Fogyasztás (kWh/100km)"
    />
    <Label for="ar_nap">Forint / nap</Label>
    <input
      class="input"
      type="number"
      [(ngModel)]="newCar.ar_nap_ft"
      name="ar_nap"
      placeholder="Ár naponta (Ft)"
      required
    />

    <label class="flex items-center gap-2">
      <input
        type="checkbox"
        [(ngModel)]="newCar.autopalya_matrica"
        name="autopalya"
        class="accent-blue-600"
      />
      Autópálya matrica van
    </label>

    <input
      class="input"
      [(ngModel)]="felszereltsegInput"
      name="felszereltseg"
      placeholder="Felszereltség (vesszőkkel elválasztva)"
      (input)="updateFelszereltseg()"
    />

    <button
      type="submit"
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
    >
      Autó hozzáadása
    </button>
  </form>

  <hr class="my-6" />

  <h2 class="text-2xl font-bold mb-4">Elérhető autók</h2>

  <div class="grid gap-4">
    <div
      *ngFor="let car of cars"
      class="bg-white p-4 rounded-xl shadow-md flex justify-between items-center"
    >
      <div>
        <p class="text-lg font-semibold">{{ car.marka }} ({{ car.evjarat }})</p>
        <p class="text-sm text-gray-600">
          {{ car.ar_nap_ft | number }} Ft / nap
        </p>
      </div>
      <button
        (click)="deleteCar(car.id)"
        class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition"
      >
        Törlés
      </button>
    </div>
  </div>
</div>
